# **应用版本管理中心 - UI 功能详细说明文档 v1.0.0**

## **1. 系统概述**

本系统是面向多项目的应用更新管理平台，涵盖版本管理、应用下载页配置、灰度发布、用户反馈、协议管理、推送通知、用户管理等模块。本文档为每个模块提供 UI 功能说明及相关字段设计，帮助开发团队高效实现功能。

---

## **2. 模块功能设计**

### **2.1 版本管理模块**

#### **功能说明**

- 提供版本新增、更新检测、资源包更新、整包更新及回滚功能。
- 支持强制更新和静默更新两种方式。
- 跨版本更新自动切换为整包更新。

#### **UI 设计**

1. **版本列表页面**

   - 功能：展示已发布的所有版本信息。
   - 栏目字段：
     - 版本号（`version_code`）
     - 版本名称（`version_name`）
     - 版本类型（整包/资源包）
     - 发布时间（`release_date`）
     - 状态（已发布/草稿）
   - 操作按钮：
     - **查看**：查看详细信息。
     - **编辑**：修改版本内容。
     - **回滚**：回滚至此版本。

2. **新增/编辑版本页面**

   - 表单字段：
     - 应用选择（`project_id`）：下拉框。
     - 版本号（`version_code`）：文本框，格式校验。
     - 版本名称（`version_name`）：文本框。
     - 更新说明（`update_description`）：富文本框。
     - 更新类型（`update_type`）：单选框（整包/资源包）。
     - 更新包上传（`update_file`）：文件上传控件。
     - 灰度发布设置（`gray_release`）：复选框。

3. **字段设计**
   - `version_code`：字符串，版本号。
   - `version_name`：字符串，版本名称。
   - `update_description`：文本，描述更新内容。
   - `update_type`：枚举，"full" 或 "resource"。
   - `update_file`：文件路径，更新包存储地址。

---

### **2.2 应用下载页模块**

#### **功能说明**

- 动态配置下载页内容，包括应用基本信息、版本内容及活动推广信息。

#### **UI 设计**

1. **下载页配置页面**

   - 功能：选择模板并配置页面内容。
   - 栏目字段：
     - 页面名称（`page_name`）
     - 页面状态（已发布/草稿）
     - 最近修改时间（`last_updated`）
   - 操作按钮：
     - **编辑**：进入内容配置页面。
     - **预览**：实时查看页面效果。
     - **发布**：将草稿发布上线。

2. **内容编辑页面**

   - 表单字段：
     - 应用名称（`app_name`）：文本框。
     - 版本信息（`version_info`）：自动拉取版本号及更新说明。
     - 下载链接（`download_url`）：文本框，支持多版本下载地址。
     - 活动宣传内容（`promotion_content`）：图片/视频上传。
     - 模板选择（`template_id`）：下拉框选择模板样式。

3. **字段设计**
   - `page_name`：字符串，页面名称。
   - `last_updated`：时间戳，最近修改时间。
   - `app_name`：字符串，应用名称。
   - `download_url`：字符串，下载链接地址。

---

### **2.3 灰度发布模块**

#### **功能说明**

- 按分组逐步推送版本更新，支持发布监控和策略调整。

#### **UI 设计**

1. **灰度分组管理页面**

   - 功能：创建分组规则，查看分组详情。
   - 栏目字段：
     - 分组名称（`group_name`）
     - 用户总数（`user_count`）
     - 创建时间（`created_at`）
   - 操作按钮：
     - **编辑分组**：调整规则。
     - **删除分组**：移除分组。

2. **灰度发布设置页面**

   - 表单字段：
     - 选择分组（`group_id`）：下拉框，选择推送分组。
     - 推送比例（`release_ratio`）：滑块，选择推送覆盖范围。
     - 发布时间（`schedule_time`）：时间选择器。

3. **字段设计**
   - `group_name`：字符串，分组名称。
   - `user_count`：整型，分组包含的用户数。
   - `release_ratio`：百分比，灰度推送比例。

---

### **2.4 用户反馈模块**

#### **功能说明**

- 收集用户反馈并提供处理状态的管理。

#### **UI 设计**

1. **反馈列表页面**

   - 栏目字段：
     - 用户 ID（`user_id`）
     - 反馈类型（Bug/建议）
     - 提交时间（`submitted_at`）
     - 状态（待处理/处理中/已解决）
   - 操作按钮：
     - **查看详情**：进入反馈详情页面。
     - **更改状态**：更新反馈处理进度。

2. **反馈详情页面**

   - 展示反馈内容、截图及用户评分。
   - 回复功能，管理员可回复反馈。

3. **字段设计**
   - `user_id`：整型，用户标识。
   - `feedback_type`：枚举，反馈类型（Bug/建议）。
   - `submitted_at`：时间戳，反馈提交时间。

---

### **2.5 协议管理模块**

#### **功能说明**

- 管理隐私协议、服务条款等内容，支持动态更新。

#### **UI 设计**

1. **协议列表页面**

   - 栏目字段：
     - 协议名称（`agreement_name`）
     - 最新版本号（`version_number`）
     - 最近修改时间（`last_updated`）
   - 操作按钮：
     - **编辑**：修改协议内容。
     - **查看历史版本**：查看过往协议。

2. **协议编辑页面**

   - 表单字段：
     - 协议名称（`agreement_name`）：文本框。
     - 协议内容（`content`）：富文本编辑器。
     - 语言版本（`language`）：下拉框。

3. **字段设计**
   - `agreement_name`：字符串，协议名称。
   - `version_number`：字符串，版本号。
   - `content`：文本，协议内容。

---

## **3. 技术说明与附加字段**

### **全局字段设计**

- `project_id`：整型，项目标识。
- `created_at`：时间戳，记录创建时间。
- `updated_at`：时间戳，记录更新时间。

### **系统约束**

1. 所有提交表单的字段需进行前端校验（如格式检查、必填项验证）。
2. 文件上传需支持断点续传。
